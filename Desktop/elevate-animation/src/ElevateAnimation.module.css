/* ElevateAnimation.module.css */

/* --- Global Container Styles --- */
.animationContainer {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background-color: #000;
  overflow: hidden;
  position: relative;
}

/* --- Shape Container (The element that handles the final lift) --- */
.shapeWrapper {
  position: relative;
  width: 200px; 
  height: 200px;
  animation: final-lift 2.5s forwards, fade-out 2.5s forwards; 
}
/* --- The Funnel Shape (Curved Inverse Cone/Cup) --- */
.funnel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 80px;
  /* ... Funnel::before and Funnel::after styles remain correct for shape/fill ... */
  /* No static changes needed here, its center is stable at 100px/100px */
}

/* 1. Funnel Border (The actual visible shape) */
.funnel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 4px solid white;
  
  /* Creates the curved inverse cone shape */
  border-radius: 50% / 0 0 40% 40%; /* Curved bottom */
  clip-path: polygon(5% 0%, 95% 0%, 100% 100%, 0% 100%); /* Defines top and bottom width */
  box-sizing: border-box; /* Ensures border is inside the dimensions */
}

/* 2. Funnel Fill (The left-to-right wipe effect) */
.funnel::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: white; 
  
  /* Must match the border shape exactly */
  border-radius: 50% / 0 0 40% 40%;
  clip-path: polygon(5% 0%, 95% 0%, 100% 100%, 0% 100%);
  
  transform: scaleX(0); 
  transform-origin: left center; /* Wipe from the left */
  animation: funnel-fill-wipe 4.0s forwards;
}

/* --- The Star Shape (Final position is over the Funnel's opening) --- */
.star {
  position: absolute;
  top: 0px; 
  left: 0px; 
  width: 25px; 
  height: 25px; 
  background: white;
  filter: drop-shadow(0 0 5px white);
  clip-path: polygon(50% 0%, 65% 35%, 100% 50%, 65% 65%, 50% 100%, 35% 65%, 0% 50%, 35% 35%);
  transform-origin: center;
  animation: star-motion 4.0s forwards; 
}
/* --- The Text --- */
/* --- The Text (FINAL CORRECTION) --- */
.elevateText {
  color: white;
  font-family: 'Arial Black', sans-serif;
  font-size: 2.5rem; 
  letter-spacing: 0.4em;
  white-space: nowrap; /* Forces horizontal line */
  opacity: 0;
  
  /* Setting a temporary vertical position that will be overridden by keyframes */
  position: absolute; 
  top: 150px; /* Temporary visual anchor */
  left: 50%;
  transform: translateX(-50%);
  
  animation: text-reveal 4.0s forwards; 
}

/* --- Keyframes (The Animation Sequence) --- */

/* 1. Star Motion: Rotate, Translate, and Converge */
@keyframes star-motion {
  /* ... Entrance remains intact ... */
  0% { transform: translate(-100px, 100px) scale(0.5) rotate(0deg); opacity: 0; }
  10% { transform: translate(-30px, 70px) scale(1) rotate(180deg); opacity: 1; }
  
  /* Convergence: Drastically moving the star up an extra 20px for clear separation */
  /* Previous Y-Target: 22.5px. New Y-Target: 2.5px */
  25% { transform: translate(87px, 2.5px) scale(2.8) rotate(360deg); } 
  
  /* Hold Star in place (90%) */
  90% { transform: translate(87px, 2.5px) scale(2.8) rotate(360deg); } 
  /* CRITICAL CHANGE: Hold visibility */
  100% { transform: translate(87px, 2.5px) scale(2.8) rotate(360deg); opacity: 1; }
}

/* 2. Funnel Fill: Left-to-Right Wipe (Must align with star convergence) */
@keyframes funnel-fill-wipe {
  0% { transform: scaleX(0); }
  
  /* Wipe starts just before star settles (10%) */
  10% { transform: scaleX(0); } 
  
  /* Wipe finishes (30%) */
  30% { transform: scaleX(1); } 
  
  /* Hold filled state */
  90% { transform: scaleX(1); }
  
  100% { transform: scaleX(0); }
}

/* 3. Text Reveal: Fade in and move up */
/* 3. Text Reveal: Fade in and move up (REVISED) */
/* 3. Text Reveal: Fade in and move up (REVISED) */
@keyframes text-reveal {
  0% { opacity: 0; transform: translateX(-50%) translateY(30px); }
  
  /* Wait for funnel fill to finish (35%) */
  35% { opacity: 0; transform: translateX(-50%) translateY(30px); } 
  
  /* Text appears immediately (45%) */
  45% { opacity: 1; transform: translateX(-50%) translateY(0); } 
  
  /* Hold until final lift */
  90% { opacity: 1; transform: translateX(-50%) translateY(0); }
  /* CRITICAL CHANGE: Hold visibility */
  100% { opacity: 1; transform: translateX(-50%) translateY(0); }
}

/* 4. Final Upward Lift of the whole composition (Wrapper) */
@keyframes final-lift {
  0% { transform: translateY(0); }
  
  /* Lift starts later (70%) and finishes earlier (90%) */
  70% { transform: translateY(0); }
  90% { transform: translateY(-50px); } /* Lift finishes */
  100% { transform: translateY(-50px); } /* Hold lift position */
}

/* 5. NEW KEYFRAME: Fade out the entire wrapper after the lift */
@keyframes fade-out {
  0% { opacity: 1; } 
  
  /* Hold opacity until the lift is finished (90%) */
  90% { opacity: 1; } 
  
  /* Fade out over the last 10% (0.5 seconds) */
  100% { opacity: 0; }
}
